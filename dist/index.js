"use strict";var Be=Object.create;var H=Object.defineProperty;var $e=Object.getOwnPropertyDescriptor;var Re=Object.getOwnPropertyNames;var Ee=Object.getPrototypeOf,ke=Object.prototype.hasOwnProperty;var p=(e,t)=>{for(var o in t)H(e,o,{get:t[o],enumerable:!0})},Ne=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Re(t))!ke.call(e,s)&&s!==o&&H(e,s,{get:()=>t[s],enumerable:!(n=$e(t,s))||n.enumerable});return e};var I=(e,t,o)=>(o=e!=null?Be(Ee(e)):{},Ne(t||!e||!e.__esModule?H(o,"default",{value:e,enumerable:!0}):o,e));var q=require("discord-player"),c=require("discord.js"),X=I(require("http")),Se=I(require("node-cron"));var oe=require("discord.js"),x=new Map,ee=7,Fe=5e3,te=5*60*1e3;async function ne(e){if(!e.author.bot)if(x.has(e.author.id)){let t=x.get(e.author.id),{lastMessage:o,timer:n}=t,s=e.createdTimestamp-o.createdTimestamp,m=t.msgCount;if(s>Fe)clearTimeout(n),t.msgCount=1,t.lastMessage=e,t.timer=setTimeout(()=>{x.delete(e.author.id)},te),x.set(e.author.id,t);else if(++m,parseInt(m)===ee){let a=new oe.EmbedBuilder().setColor("#df4746").setDescription("Warning: Spamming in this channel is forbidden.");await e.reply({embeds:[a]}),await e.channel.bulkDelete(ee);let i=10*60*1e3;e.member&&await e.member.timeout(i,"Spamming messages")}else t.msgCount=m,x.set(e.author.id,t)}else{let t=setTimeout(()=>{x.delete(e.author.id)},te);x.set(e.author.id,{msgCount:1,lastMessage:e,timer:t})}}var v=require("discord.js");var ae=async()=>{try{return await(await fetch(`${process.env.TWITCH_URL}streams?user_login=caseoh_`,{headers:{Authorization:`Bearer ${process.env.TWITCH_TOKEN}`,"Client-ID":`${process.env.TWITCH_CLIENT_ID}`}})).json()}catch(e){throw console.error("Failed to fetch Notion page:",e),e}},se=async()=>{try{let e=await fetch(`${process.env.TWITCH_URL}users?login=caseoh_`,{headers:{Authorization:`Bearer ${process.env.TWITCH_TOKEN}`,"Client-ID":`${process.env.TWITCH_CLIENT_ID}`}}),{data:t}=await e.json();return t.find(o=>o)}catch(e){throw console.error("Failed to fetch Notion page:",e),e}};async function ie(e){let t=await ae(),o=await se(),n=t.data[0],s=["1235170642295263325","909116735003693151"],m=!1;setInterval(()=>{if(t.data.length>0)if(n.type==="live"&&!m){m=!0;let a=new v.EmbedBuilder().setColor("#0099ff").setThumbnail(o.profile_image_url).setAuthor({name:`${n.user_name} is live!`,url:"https://www.twitch.tv/caseoh_"}).setImage(n.thumbnail_url.replace("{width}","1280").replace("{height}","720")).setDescription(`${(0,v.bold)((0,v.hyperlink)(`${n.title}`,"https://www.twitch.tv/caseoh_"))}`).addFields({name:"Game",value:n.game_name},{name:"Viewers",value:n.viewer_count.toString()},{name:"Tags",value:Array.isArray(n.tags)?n.tags.join(", "):"No tags"}).setTimestamp().setFooter({text:"Twitch stream information",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"});s.forEach(i=>{let d=e.channels.cache.get(i);d?.isTextBased()&&d?.send({embeds:[a]})})}else n.type!=="live"&&(m=!1)},6e4)}var Q={};p(Q,{data:()=>Le,execute:()=>Ue});var b=require("@devraelfreeze/discordjs-pagination"),R=require("discord.js");var re=async e=>{try{return await(await fetch(`${process.env.URBAN_DICTIONARY_API_URL}${e}`)).json()}catch(t){throw console.error("Failed to fetch Notion page:",t),t}};function D(e,t){return e.length<=t?e:`${e.slice(0,t-3)}...`}var Le=new R.SlashCommandBuilder().setName("urban_dictionary").setDescription("Reply with definition of the word").addStringOption(e=>e.setName("input").setDescription("Type your word").setRequired(!0).setAutocomplete(!0));async function Ue(e){let t=e.options.get("input");if(!t||t?.value?.toString().trim().length===0){await e.reply("Please provide a word to define.");return}try{let{list:o}=await re(t.value?.toString());if(o.length===0){await e.reply("No definition found.");return}let n=o.map((s,m)=>_e(s,t.value));await Ae(e,n)}catch(o){console.error("Error fetching definition:",o),await je(e,"Failed to fetch the definition. Please try again later.")}}function _e(e,t){let o=new R.EmbedBuilder().setColor("#0099ff").setTitle(`Definition for "${t}"`).setDescription(D(e.definition,4096));return e.example&&e.example.trim().length>0&&o.addFields({name:"Example",value:D(e.example,1024)}),e.author&&e.author.trim().length>0&&o.addFields({name:"Author",value:e.author}),o.setFooter({text:`\u{1F44D} ${e.thumbs_up} \u{1F44E} ${e.thumbs_down}`}),o}async function Ae(e,t){let o=t.map(s=>s),n=e.user;await(0,b.pagination)({embeds:t,author:n,interaction:e,ephemeral:!1,time:4e4,disableButtons:o.length===1,buttons:[{type:b.ButtonTypes.previous,label:"Previous Page",style:b.ButtonStyles.Primary},{type:b.ButtonTypes.next,label:"Next Page",style:b.ButtonStyles.Primary}]})}async function je(e,t){!e.replied&&!e.deferred?await e.reply(t):await e.followUp(t)}var W={};p(W,{data:()=>Ge,execute:()=>Pe});var E=require("discord.js");var me=I(require("dotenv")),ce=require("@google/generative-ai");me.default.config();var Oe=new ce.GoogleGenerativeAI(`${process.env.GOOGLE_API_KEY}`);async function le(e){try{return(await(await Oe.getGenerativeModel({model:"gemini-1.0-pro-latest"}).generateContentStream(e)).response).text()}catch(t){throw console.error("Error in getGemini:",t),new Error("Failed to generate content with Gemini model.")}}var Ge=new E.SlashCommandBuilder().setName("asks").setDescription("Reply with gemini!").addStringOption(e=>e.setName("input").setDescription("Type your word").setRequired(!0));async function Pe(e){let t=e.options.get("input");try{await e.deferReply(),e.channel?.sendTyping();let o=await e.fetchReply();await o.react("\u{1F914}");let n=await le(t?.value?.toString()),s="",m=20,a=5;for(let i=0;i<n.length;i+=m){s+=n.substring(i,i+m);let d=new E.EmbedBuilder().setColor("#0099ff").setTitle(`You asked for ${t?.value}`).setDescription(s).setTimestamp().setFooter({text:"Gemini replied",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"});await e.editReply({embeds:[d]}),await new Promise(J=>setTimeout(J,a))}"reactions"in o&&await o.reactions.resolve("\u{1F914}")?.users.remove(e.client.user?.id)}catch(o){console.error("Error fetching definition:",o),await e.reply("Failed to fetch the gemini. Please try again later.")}}var k={};p(k,{autocompleterun:()=>qe,data:()=>Me,execute:()=>Je});var ue=require("discord-player"),r=require("discord.js");var de=require("discord-player"),C=require("discord.js"),u=new C.Client({intents:[C.GatewayIntentBits.Guilds,C.GatewayIntentBits.GuildMessages,C.GatewayIntentBits.MessageContent,C.GatewayIntentBits.GuildMembers,C.GatewayIntentBits.GuildVoiceStates]}),y=new de.Player(u);var Me=new r.SlashCommandBuilder().setName("play").setDescription("Playing music from youtube").addStringOption(e=>e.setName("input").setDescription("Type your word").setRequired(!0).setAutocomplete(!0).addChoices());async function qe(e){let t=e.options.getFocused();if(!t)return;let o=await y.search(t);if(!e.responded)return e.respond(o.tracks.slice(0,10).map(n=>{let s=`${n.title} - ${n.author} - ${n.duration}`;return{name:s.length>100?s.substring(0,97)+"...":s,value:n.url}}))}async function Je(e){if(await e.deferReply(),!(e.member instanceof r.GuildMember)||!e.member.voice.channel){let a=new r.EmbedBuilder().setColor("#df4746").setURL("https://github.com/JoeJoeflyn").addFields({name:"You have to be connected in a voice channel before you can use this command !",value:`${(0,r.quote)((0,r.hyperlink)("How to join a voice channel ?","https://support.discord.com/hc/en-us/articles/360045138571-Beginner-s-Guide-to-Discord#h_9de92bc2-3bca-459f-8efd-e1e2739ca4f4"))}`});await e.followUp({embeds:[a],ephemeral:!0});return}let t=e.member.voice.channel,o=e.options.get("input"),m=(await(await u.channels.fetch(e.channelId))?.messages?.fetch({limit:1})).first();try{if((0,ue.useQueue)(e?.guild?.id)?.isPlaying()){let{track:i}=await y.play(t,o?.value,{nodeOptions:{metadata:{interaction:e,id:m?.id},leaveOnEnd:!1}}),d=new r.EmbedBuilder().setColor("#6aba54").setDescription(`Added ${(0,r.bold)((0,r.hyperlink)(`${i.author} - ${i.title}`,i.url))} - \`${i.duration.toString()}\``);await e.followUp({embeds:[d]})}else{let{track:i}=await y.play(t,o?.value,{nodeOptions:{metadata:{interaction:e,id:m?.id},leaveOnEnd:!1}}),d=new r.EmbedBuilder().setColor("#6aba54").setAuthor({name:"Now playing",url:"https://github.com/JoeJoeflyn"}).setThumbnail(i.thumbnail).setDescription(`${(0,r.bold)((0,r.hyperlink)(`${i.author} - ${i.title}`,i.url))} - \`${i.duration.toString()}\``).setTimestamp().setFooter({text:"Music Bot",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}),J=new r.ActionRowBuilder().addComponents(new r.ButtonBuilder().setCustomId("skip").setEmoji("\u23E9").setStyle(r.ButtonStyle.Secondary),new r.ButtonBuilder().setCustomId("pause").setEmoji("\u23F8\uFE0F").setStyle(r.ButtonStyle.Secondary),new r.ButtonBuilder().setCustomId("stop").setEmoji("\u23F9\uFE0F").setStyle(r.ButtonStyle.Secondary));await e.followUp({embeds:[d],components:[J]})}}catch(a){return e.followUp(`Something went wrong: ${a}`)}}var N={};p(N,{data:()=>He,execute:()=>Qe});var pe=require("discord-player"),S=require("discord.js"),He=new S.SlashCommandBuilder().setName("stop").setDescription("Disconnect the bot from voice channel");async function Qe(e){let t=(0,pe.useQueue)(e?.guildId);if(!t?.isPlaying()){let o=new S.EmbedBuilder().setColor("#df4746").setDescription("I'm not playing music! Add a song with </play:1236381760829391051>.");await e.reply({embeds:[o]});return}try{t.delete();let o=new S.EmbedBuilder().setColor("#6aba54").setDescription("\u23F9 The player has been successfully stopped.");await e.reply({embeds:[o]})}catch(o){e.replied||e.deferred?await e.followUp(`Something went wrong: ${o}`):await e.reply(`Something went wrong: ${o}`)}}var L={};p(L,{data:()=>We,execute:()=>ze});var F=require("discord-player"),l=require("discord.js");var We=new l.SlashCommandBuilder().setName("skip").setDescription("Skip current song and start the next one.");async function ze(e){if("guild"in e)try{let t=(0,F.useQueue)(e?.guild?.id),s=(await(await u.channels.fetch(e.channelId))?.messages?.fetch({limit:1})).first(),m=(0,F.useHistory)(e?.guild?.id),a=m?.nextTrack;if(!t?.isPlaying()){await e.deferReply();let i=new l.EmbedBuilder().setColor("#df4746").setURL("https://github.com/JoeJoeflyn").setDescription("I'm not playing music ! Add song with </play:1236381760829391051>.");await e.editReply({embeds:[i]});return}if(t?.node.skip(),m?.tracks.data.length!==0){let i=new l.EmbedBuilder().setColor("#6aba54").setAuthor({name:"Now playing",url:"https://github.com/JoeJoeflyn"}).setThumbnail(a.thumbnail).setDescription(`${(0,l.bold)((0,l.hyperlink)(`${a.author} - ${a.title}`,a.url))} - \`${a.duration.toString()}\``).setTimestamp().setFooter({text:"Music Bot",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}),d=new l.ActionRowBuilder().addComponents(new l.ButtonBuilder().setCustomId("skip").setEmoji("\u23E9").setStyle(l.ButtonStyle.Secondary),new l.ButtonBuilder().setCustomId("pause").setEmoji("\u23F8\uFE0F").setStyle(l.ButtonStyle.Secondary),new l.ButtonBuilder().setCustomId("stop").setEmoji("\u23F9\uFE0F").setStyle(l.ButtonStyle.Secondary));s?.embeds[0]?.footer?e instanceof l.ButtonInteraction&&e.update({embeds:[i],components:[d]}):(await e.deferReply(),await e.editReply({embeds:[i],components:[d]}))}else e instanceof l.ButtonInteraction&&await e.update({})}catch(t){await e.editReply(`Something went wrong: ${t}`)}}var U={};p(U,{data:()=>Ke,execute:()=>Ye});var he=require("discord-player"),f=require("discord.js"),Ke=new f.SlashCommandBuilder().setName("pause").setDescription("Pause the player.");async function Ye(e){let{pause:t}=(0,he.useTimeline)(e?.guild?.id);try{t();let o=new f.ActionRowBuilder().addComponents(new f.ButtonBuilder().setCustomId("skip").setEmoji("\u23E9").setStyle(f.ButtonStyle.Secondary),new f.ButtonBuilder().setCustomId("pause").setEmoji("\u25B6\uFE0F").setStyle(f.ButtonStyle.Secondary),new f.ButtonBuilder().setCustomId("stop").setEmoji("\u23F9\uFE0F").setStyle(f.ButtonStyle.Secondary));await e.update({components:[o]})}catch(o){await e.reply(`Something went wrong: ${o}`)}}var _={};p(_,{data:()=>Ve,execute:()=>Ze});var fe=require("discord-player"),B=require("discord.js"),Ve=new B.SlashCommandBuilder().setName("shuffle").setDescription("Shuffle the queue.");async function Ze(e){let t=(0,fe.useQueue)(e?.guild?.id);if(!t?.isPlaying()){let o=new B.EmbedBuilder().setColor("#df4746").setURL("https://github.com/JoeJoeflyn").setDescription("I'm not playing music ! Add song with </play:1236381760829391051>.");await e.reply({embeds:[o]})}try{t?.tracks.shuffle();let o=new B.EmbedBuilder().setColor("#6aba54").setURL("https://github.com/JoeJoeflyn").setDescription("\u2611\uFE0F Shuffled the queue");await e.reply({embeds:[o]})}catch(o){await e.reply(`Something went wrong: ${o}`)}}var A={};p(A,{data:()=>Xe,execute:()=>et});var we=require("discord-player"),w=require("discord.js"),Xe=new w.SlashCommandBuilder().setName("resume").setDescription("Resume the player.");async function et(e){let{resume:t}=(0,we.useTimeline)(e?.guild?.id);try{t();let o=new w.ActionRowBuilder().addComponents(new w.ButtonBuilder().setCustomId("skip").setEmoji("\u23E9").setStyle(w.ButtonStyle.Secondary),new w.ButtonBuilder().setCustomId("pause").setEmoji("\u23F8\uFE0F").setStyle(w.ButtonStyle.Secondary),new w.ButtonBuilder().setCustomId("stop").setEmoji("\u23F9\uFE0F").setStyle(w.ButtonStyle.Secondary));await e.update({components:[o]})}catch(o){await e.reply(`Something went wrong: ${o}`)}}var O={};p(O,{data:()=>tt,execute:()=>ot});var be=require("discord-player"),j=require("discord.js");var ye=I(require("cheerio"));async function ge(e,t){e=e.toLowerCase(),t=t.toLowerCase(),e=e.replace(/[^a-z0-9]+/g,""),t=t.replace(/[^a-z0-9]+/g,""),e.startsWith("the")&&(e=e.slice(3));let o=`http://azlyrics.com/lyrics/${e}/${t}.html`;try{let s=await(await fetch(o)).text();return ye.load(s)("div.ringtone").nextAll("div").eq(0).text().trim()}catch(n){return`Exception occurred 
${n}`}}var tt=new j.SlashCommandBuilder().setName("lyrics").setDescription("Get song lyrics");async function ot(e){let{currentTrack:t}=(0,be.useQueue)(e?.guild?.id);try{await e.deferReply();let o=await ge(t?.author,t?.title),n=new j.EmbedBuilder().setColor("#0099ff").setTitle(`Lyrics for ${t?.title} by ${t?.author}`).setDescription(D(o,4096)).setTimestamp().setFooter({text:"Lyrics provided by azlyrics",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"});await e.editReply({embeds:[n]})}catch(o){await e.reply(`Something went wrong: ${o}`)}}var z={};p(z,{data:()=>nt,execute:()=>at});var G=require("discord.js"),nt=new G.SlashCommandBuilder().setName("ping").setDescription("Reply with latency!");async function at(e){if(!e.client){console.error("Client is not accessible");return}let t=Date.now()-e.createdTimestamp,o=Math.round(e.client.ws.ping),n=new G.EmbedBuilder().setColor("#0099ff").setTitle("\u{1F3D3} Pong!").addFields({name:"Latency",value:`${t}ms`,inline:!0},{name:"API Latency",value:`${o}ms`,inline:!0}).setTimestamp().setFooter({text:"Latency information",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"});await e.reply({embeds:[n]})}var K={};p(K,{data:()=>st,execute:()=>it});var h=require("discord.js"),st=new h.SlashCommandBuilder().setName("help").setDescription("Show all useless bot commands").addStringOption(e=>e.setName("command").setDescription("Command name").setRequired(!1));async function it(e){let t=e.options.get("command"),o=new h.EmbedBuilder().setColor("#947cea").setAuthor({name:"Useless Bot help menu (9) commands"}).addFields({name:"Bot (1)",value:"`ping`"},{name:"Dictionary (1)",value:"`urban_dictionary`"},{name:"Ai (1)",value:"`asks`"},{name:"Music (6)",value:"`play`, `pause`, `resume`, `shuffle`, `skip`, `stop`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"});t?.value==="play"?o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </play:1236381760829391051>").addFields({name:"Description :",value:"`Play a song`"},{name:"Usage :",value:"`!play <song name or link or file>`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}):t?.value==="pause"?o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </pause:1236358751150407706>").addFields({name:"Description :",value:"`Pause music`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}):t?.value==="resume"?o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </resume:1236358751150407708>").addFields({name:"Description :",value:"`Resume the player`"},{name:"Aliases :",value:"`unpause`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}):t?.value==="shuffle"?o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </shuffle:1236358751150407707>").addFields({name:"Description :",value:"`Shuffle the queue`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}):t?.value==="skip"?o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </skip:1236358751150407705>").addFields({name:"Description :",value:"`Skip current song and start the next one`"},{name:"Aliases :",value:"`s`, `next`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}):t?.value==="stop"?o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </stop:1236358751150407704>").addFields({name:"Description :",value:"`Disconnect the bot from voice channel`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}):t?.value==="ping"?o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </ping:1236358751150407700>").addFields({name:"Description :",value:"`Reply with latency`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}):t?.value==="urban_dictionary"?o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </urban_dictionary:1236358751150407701>").addFields({name:"Description :",value:"`Reply with definition of the word`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}):t?.value==="asks"&&(o=new h.EmbedBuilder().setColor("#947cea").setTitle("Command </asks:1236358751150407702>").addFields({name:"Description :",value:"`Reply with gemini!`"}).setTimestamp().setFooter({text:"Do /help <command> to view how to use the command",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"})),await e.reply({embeds:[o]})}var Y={};p(Y,{data:()=>rt,execute:()=>mt});var T=require("discord.js");var Ce=async e=>{try{return await(await fetch(`${process.env.GITHUB_URL}${e}`)).json()}catch(t){throw console.error("Failed to fetch Notion page:",t),t}};var rt=new T.SlashCommandBuilder().setName("github").setDescription("Reply with github bio!").addStringOption(e=>e.setName("input").setDescription("Your github name").setRequired(!0));async function mt(e){let t=e.options.get("input"),o=await Ce(t?.value);o||await e.reply({content:"GitHub account not found."});let n=new Date(o?.created_at),s={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"UTC"},m=n.toLocaleString("en-US",s),a=new T.EmbedBuilder().setColor("DarkBlue").setTitle(`${o?.login}`).setAuthor({name:`${o?.name||o?.login} Github Profile`,url:o?.html_url}).setThumbnail(o?.avatar_url).addFields({name:"Portfolio",value:`${o?.blog?(0,T.hyperlink)(o?.login,o?.blog):o?.login}`}).setFooter({text:`repo created at ${m}`,iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"});o?.hireable&&a.addFields({name:"Hireable",value:`${o?.hireable&&"hireable"}`,inline:!0}),o?.location&&a.addFields({name:"Location",value:`${o?.location}`,inline:!0}),await e.reply({embeds:[a]})}var V={};p(V,{data:()=>ct,execute:()=>lt});var P=require("discord.js");var xe=async e=>{try{return await(await fetch(`${process.env.FOOTBALL_URL}?q=${e}&location=austin,+texas,+united+states&api_key=${process.env.FOOTBALL_TOKEN}`)).json()}catch(t){throw console.error("Failed to fetch Notion page:",t),t}};var ct=new P.SlashCommandBuilder().setName("football").setDescription("Reply with match stats!").addStringOption(e=>e.setName("input").setDescription("Your match").setRequired(!0));async function lt(e){await e.deferReply();let t=e.options.get("input"),o=await xe(t?.value),{title:n,thumbnail:s,rankings:m,games:a}=o?.sports_results,i=new P.EmbedBuilder().setColor("DarkBlue").setTitle(`${n} - ${m}`).setAuthor({name:`${a[0]?.teams[0]?.name} - ${a[0]?.teams[1]?.name}`,url:a[0].video_highlights.link}).setThumbnail(s).addFields({name:"Tournament",value:`${a[0].tournament}`,inline:!0},{name:"Status",value:`${a[0].status} ? ${a[0].status} : "Not yet started"`,inline:!0},{name:"Stadium",value:`${a[0].stadium}`,inline:!0},...a?.flatMap(d=>({name:`${d.teams[0].name} vs ${d.teams[1].name} - ${d.date} ${d.time?`at ${d.time}`:""}`,value:`${d.teams[0].score??"N/A"} - ${d.teams[1].score??"N/A"}`}))).setImage(a[0].video_highlights.thumbnail).setFooter({text:`${a[0].date}`,iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"});await e.reply({embeds:[i]})}var g={ping:z,urban_dictionary:Q,asks:W,play:k,stop:N,skip:L,pause:U,resume:A,shuffle:_,lyrics:O,help:K,github:Y,football:V};var ve=I(require("dotenv"));ve.default.config();var{DISCORD_TOKEN:Te,DISCORD_CLIENT_ID:Ie}=process.env;if(!Te||!Ie)throw new Error("Missing environment variables");var $={DISCORD_TOKEN:Te,DISCORD_CLIENT_ID:Ie};var M=require("discord.js");var dt=Object.values(g).map(e=>e.data.toJSON()),ut=new M.REST({version:"10"}).setToken($.DISCORD_TOKEN);async function De({guildId:e}){try{console.log("Started refreshing application (/) commands."),await ut.put(M.Routes.applicationGuildCommands($.DISCORD_CLIENT_ID,e),{body:dt}),console.log("Successfully reloaded application (/) commands.")}catch(t){console.error(t)}}var pt=X.default.createServer((e,t)=>{t.writeHead(200,{"Content-Type":"text/plain"}),t.end(`Discord bot is running
`)}),Z=process.env.PORT||3e3;y.extractors.loadDefault(e=>e!=="AppleMusicExtractor");y.events.on("playerFinish",async e=>{let o=(0,q.useQueue)(e.metadata.interaction.guild.id)?.tracks.data[0];if(o){let n=await u.channels.fetch(e.metadata.interaction.channelId),m=(await n?.messages?.fetch({limit:1})).first(),a=new c.EmbedBuilder().setColor("#6aba54").setAuthor({name:"Now playing",url:"https://github.com/JoeJoeflyn"}).setThumbnail(o?.thumbnail).setDescription(`${(0,c.bold)((0,c.hyperlink)(`${o?.author} - ${o?.title}`,o?.url))} - \`${o?.duration.toString()}\``).setTimestamp().setFooter({text:"Music Bot",iconURL:"https://i.pinimg.com/564x/b0/1a/2c/b01a2c6c066fb56f425030942a9f2c2b.jpg"}),i=new c.ActionRowBuilder().addComponents(new c.ButtonBuilder().setCustomId("skip").setEmoji("\u23E9").setStyle(c.ButtonStyle.Secondary),new c.ButtonBuilder().setCustomId("pause").setEmoji("\u23F8\uFE0F").setStyle(c.ButtonStyle.Secondary),new c.ButtonBuilder().setCustomId("stop").setEmoji("\u23F9\uFE0F").setStyle(c.ButtonStyle.Secondary));n instanceof c.TextChannel&&(m?.embeds[0]?.footer?await m?.edit({embeds:[a],components:[i]}):e.metadata.interaction.channel.send({embeds:[a],components:[i]}))}});y.events.on("emptyQueue",e=>{let t=new c.EmbedBuilder().setColor("#f1af32").setTitle("Queue Concluded").setDescription("There are no more songs in the queue, you can add more with </play:1236381760829391051>.");e.metadata.interaction.channel.send({embeds:[t]})});y.events.on("emptyQueue",e=>{setTimeout(()=>{if(e?.tracks.data.length===0&&e.currentTrack===null){e?.connection?.disconnect();let t=new c.EmbedBuilder().setColor("#f1af32").setDescription("I left the voice channel due to inactivity.");e.metadata.interaction.channel.send({embeds:[t]})}},60*1e3*5)});u.once("ready",async()=>{console.log("Discord bot is ready! \u{1F916}"),ie(u),u.user?.setActivity({type:c.ActivityType.Custom,name:"custom status",state:"Listening to /help \u2721 \u{1F3B6}"}),Se.default.schedule("0 14 * * *",()=>{let e="540730246064898089",t=["Good morning! Wish you the best for a new day. \u{1F305}","Rise and shine! A new adventure awaits you. \u{1F680}","Good morning! Did you know? The Eiffel Tower can be 15 cm taller during the summer. \u{1F5FC}","Start your day with a smile and a positive thought. \u{1F60A}","Good morning! Remember, every day is a second chance. \u{1F308}"],o=t[Math.floor(Math.random()*t.length)];u.users.fetch(e).then(n=>{n.send(o)})})});u.on("guildCreate",async e=>{await De({guildId:e.id})});u.on("guildMemberAdd",async e=>{let t=await e.guild.fetch();t.ownerId&&(await u.users.fetch(t.ownerId)).send(`${e.displayName} has joined the server!`)});u.on("messageCreate",async e=>{ne(e)});u.on("interactionCreate",async e=>{if(e.isButton()){let n=e.customId,s=(0,q.usePlayer)(e.guildId);switch(n){case"pause":s?.isPaused()?await g.resume.execute(e):await g.pause.execute(e);break;case"stop":await g.stop.execute(e);break;case"skip":await g.skip.execute(e);break;default:break}}if(e instanceof c.AutocompleteInteraction){e.commandName==="play"&&await g.play.autocompleterun(e);return}if(!e.isCommand())return;let{commandName:t}=e,o=g[t];if(!o){e.reply(`No command matching ${t} was found.`);return}try{e.deferred||e.replied||await o.execute(e)}catch(n){e.replied||(console.log(n),await e.reply("An error occurred while executing the command."))}});u.login($.DISCORD_TOKEN).catch(console.error);pt.listen(Z,()=>{console.log(`Server is listening on port ${Z}`),setInterval(()=>{X.default.get(`http://localhost:${Z}`)},6e5)});
